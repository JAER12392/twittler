<!DOCTYPE html>
<html>

<head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="twittler.css">
    <title> Twitter </title>
</head>

<body>
    <p> <strong> Zeus Tweets baby!</strong></p>
    <div class="new" style="color:#000FF">
        <h1> Newest Tweet </h1>
    </div>
    <p class="tweet">
    </p>
    <section>
    <button class="uName" type="button">Username!</button>
    <div class="usertimeline">


    <div>
    </section>
    <script>
    $(document).ready(function() {
        var $body = ('body .tweet'); // Body is the parent and .tweet is the child in this case.
        var index = 0;

    



        //function to load the tweet
        var loadTweet = function(user) {
            while (index <= streams.home.length - 1) {
                var tweet = streams.home[index];
                var $tweet = $('<div></div>'); // Creates a new Div element
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body); // 
                index++;
            }


        };

        var nextTweet = function() {
            loadTweet();
            setTimeout(nextTweet, Math.random() * 1500);

        };

        nextTweet();

    $(document).on('click', '.uName', function(){
        var user = $(this).text();
         var index1 = 0;
         var $usertimeline = $('.usertimeline');
       var userName = function(){
        
         while(index1 <= stream.users[user].length){
            var tweet  = stream.users[user][index1];
            var $tweet = $('<div></div>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
            $tweet.prependTo($usertimeline);
            index1++;

         }
       }
       userName();

    });

    });
    </script>
</body>

</html>
