<!DOCTYPE html>
<html>

<head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="twittler.css">
    <title> Twitter </title>
</head>

<body>
    <p> <strong> Zeus Tweets baby!</strong></p>
    <div class="new" style="color:#000FF">
        <h1> Newest Tweet </h1>
    </div>
    <p class="tweet">
    </p>
    <div class="shawn">
    </div>
    <div class="shark">
    </div>
    <div class="marcus">
    </div>
    <div class="douglas">
    </div>
    <div class="btn-group">
        <button id="shawnB" type="button">shawndrost</button>
        <button id="sharkB" type="button">sharksforcheap</button>
        <button id="marcusB" type="button">mracus</button>
        <button id="douglasB" type="button">douglascalhoun</button>
    </div>
    <script>
    $(document).ready(function() {
        var $body = ('body .tweet'); // Body is the parent and .tweet is the child in this case.
        var index = 0;

        var $shawn = ('body .shawn');
        var $shark = ('body .shark');
        var $marcus = ('body .marcus');
        var $douglas = ('body .douglas');



        //function to load the tweet
        var loadTweet = function(user) {
            while (index <= streams.home.length - 1) {
                var tweet = streams.home[index];
                var $tweet = $('<div></div>'); // Creates a new Div element
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body); // 
                index++;
            }


        };

        var nextTweet = function() {
            loadTweet();
            setTimeout(nextTweet, Math.random() * 1500);

        };

        nextTweet();

        var nextuserShawnTweet = function(user) {
            while (index <= streams.user.shawndrost.length - 1) {
                var tweet = streams.user.shawndrost[index];
                var $tweet = $('.shawn');
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body);
                index++;

            }


        };

        var nextuserSharkTweet = function(user) {
            while (index <= streams.user.sharksforcheap.length - 1) {
                var tweet = streams.user.sharksforcheap[index];
                var $tweet = $('.shark');
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body);
                index++;

            }
        };

        var nextuserMarcusTweet = function(user) {
            while (index <= streams.user.mracus.length - 1) {
                var tweet = streams.user.mracus[index];
                var $tweet = $('.marcus');
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body);
                index++;

            }
        };


        var nextuserDouglasTweet = function(user) {
            while (index <= streams.user.douglascalhoun.length - 1) {
                var tweet = streams.user.douglascalhoun[index];
                var $tweet = $('.douglas');
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at);
                $tweet.prependTo($body);
                index++;

            }
        };

        $('#shawnB').on('click', function() {

          nextuserShawnTweet();
        
        });


        $('#sharkB').on('click', function() {
            nextuserSharkTweet();
        });


        $('#marcusB').on('click', function() {
            nextuserMarcusTweet();
        });


        $('#douglasB').on('click', function() {
            nextuserDouglasTweet();
        });



    });
    </script>
</body>

</html>